\documentclass[a4paper]{jarticle}

\usepackage{fullpage}
\usepackage{fancybox}
\usepackage{ascmac}
\usepackage{moreverb}
\usepackage{graphicx}
%\usepackage{makeidx}

\makeindex

%\newenvironment{moaskuhyou}{\begin{itembox}{\bf 本章の目標}}{\end{itembox}}%

%\newenvironment{puzzle}{\begin{itembox}{\bf アルゴリズム的パズル}}{\end{itembox}}

\def\baselinestretch{1.15}

\def\programsource#1{\leftskip=0zw%
\bigskip
(プログラムコード: #1)\\[-.5zh]%
\indent\rule{.9\textwidth}{.5pt}\\[-2zh]
{\def\baselinestretch{1}\listinginput{1}{#1}}
\vskip-2zh\rule{.9\linewidth}{.5pt}\par}

% \def\programoutput#1{(実行結果) \begin{quote}\def\baselinestretch{1}\verbatiminput{programs/#1}\end{quote}}
\def\programoutput#1{\leftskip=0zw%
\bigskip
(実行結果)\\[-1.2zh]
\indent\rule{.9\textwidth}{.5pt}\\[-2.7zh]
\begin{quote}\def\baselinestretch{1}\verbatiminput{programs/#1}\end{quote}
\par\vskip-2zh\rule{.9\linewidth}{.5pt}\medskip\par}

\makeatletter

\newenvironment{enshu}{%
\refstepcounter{enshu}%
\par\medskip\noindent\leftskip=5.5zw%
\makebox[0pt][r]{\fbox{\bf 演習 \theenshu}~~}%
\ignorespaces
}{
\medskip\par
}

\newenvironment{practice}{
\begin{enumerate}
\def\theenumi{{\sf \thechapter.\@arabic\c@enumi}}
}{
\end{enumerate}
}

\makeatother

\begin{document}
\section{2016年 情報科学１ 期末試験}

\subsection{問題1}
\programsource{fp-toi1.c}\newpage

\subsection{問題2}
\programsource{fp-toi2.c}\newpage

\subsection{問題3}
\programsource{fp-toi3.c}\newpage

\subsection{問題4}
\programsource{fp-toi4.c}\newpage

\subsection{問題6}
\programsource{fp-toi6.c}\newpage

\end{document}
